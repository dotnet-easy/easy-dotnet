---
title: Big-React
date: 2023-04-21 19:38:45
permalink: /pages/10217/
sidebar: false
article: false
---
::: note å¼€æºåœ°å€
Githubï¼š[https://react.iamkasong.com/](https://react.iamkasong.com/)
::: 
# Big-React

ä»é›¶å®ç° React v18 çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œç‰¹ç‚¹å¦‚ä¸‹ï¼š

- ğŸ‘¬ ä¸ React æºç æœ€æ¥è¿‘çš„å®ç°
- ğŸ’ª åŠŸèƒ½å®Œå¤‡ï¼Œå½“å‰å¯è·‘é€šå®˜æ–¹æµ‹è¯•ç”¨ä¾‹æ•°é‡ï¼š34
- ğŸš¶ æŒ‰ `Git Tag`åˆ’åˆ†è¿­ä»£æ­¥éª¤ï¼Œè®°å½•ä» 0 å®ç°çš„æ¯ä¸ªåŠŸèƒ½

å¦‚æœæƒ³åŠ å…¥é¡¹ç›®å¯¹åº”çš„ `æºç äº¤æµç¾¤`ï¼Œå’Œ 7000+å°ä¼™ä¼´ä»¬ä¸€èµ·äº¤æµ `React`ï¼Œå¯ä»¥åŠ æˆ‘å¾®ä¿¡ï¼Œå¤‡æ³¨ã€Œå¼€å‘ã€ï¼š

![img](https://user-images.githubusercontent.com/15828041/181666959-57941b01-61b3-47db-9d73-ecc9ae175112.png)

## TODO List

### å·¥ç¨‹ç±»éœ€æ±‚

| ç±»å‹ | å†…å®¹                               | å®Œæˆæƒ…å†µ | åœ¨å“ªä¸ªç‰ˆæœ¬å®ç°çš„                                             |
| ---- | ---------------------------------- | -------- | ------------------------------------------------------------ |
| æ¶æ„ | monorepoï¼ˆpnpm å®ç°ï¼‰              | âœ…        | [v1](https://github.com/BetaSu/big-react/tree/v1) |
| è§„èŒƒ | eslint                             | âœ…        | [v1](https://github.com/BetaSu/big-react/tree/v1) |
| è§„èŒƒ | prettier                           | âœ…        | [v1](https://github.com/BetaSu/big-react/tree/v1) |
| è§„èŒƒ | commitlint + husky                 | âœ…        | [v1](https://github.com/BetaSu/big-react/tree/v1) |
| è§„èŒƒ | lint-staged                        | âœ…        | [v1](https://github.com/BetaSu/big-react/tree/v1) |
| è§„èŒƒ | tsc                                | âœ…        | [v1](https://github.com/BetaSu/big-react/tree/v1) |
| æµ‹è¯• | jest ç¯å¢ƒæ­å»º                      | âœ…        | [v4](https://github.com/BetaSu/big-react/tree/v4) |
| è§„èŒƒ | tsc                                | âœ…        | [v1](https://github.com/BetaSu/big-react/tree/v1) |
| æ„å»º | babel é…ç½®                         | âœ…        | [v4](https://github.com/BetaSu/big-react/tree/v4) |
| æ„å»º | Dev ç¯å¢ƒåŒ…çš„æ„å»º                   | âœ…        | [v1](https://github.com/BetaSu/big-react/tree/v1) |
| æ„å»º | Prod ç¯å¢ƒåŒ…çš„æ„å»º                  | â¬œï¸        |                                                              |
| éƒ¨ç½² | Github Action æ‰§è¡Œ lint ä¸ test    | â¬œï¸        |                                                              |
| éƒ¨ç½² | Github Action æ ¹æ® tag å‘å¸ƒ npm åŒ… | â¬œï¸        |                                                              |

### æ¡†æ¶éœ€æ±‚

| ç±»å‹       | å†…å®¹                                   | å®Œæˆæƒ…å†µ | åœ¨å“ªä¸ªç‰ˆæœ¬å®ç°çš„                                             |
| ---------- | -------------------------------------- | -------- | ------------------------------------------------------------ |
| React      | JSX è½¬æ¢                               | âœ…        | [v1](https://github.com/BetaSu/big-react/tree/v1) |
| React      | React.isValidElement                   | âœ…        | [v4](https://github.com/BetaSu/big-react/tree/v4) |
| ReactDOM   | æµè§ˆå™¨ç¯å¢ƒ DOM çš„æ’å…¥                  | âœ…        | [v2](https://github.com/BetaSu/big-react/tree/v2) |
| ReactDOM   | æµè§ˆå™¨ç¯å¢ƒ DOM çš„ç§»åŠ¨                  | âœ…        | [v7](https://github.com/BetaSu/big-react/tree/v7) |
| ReactDOM   | æµè§ˆå™¨ç¯å¢ƒ DOM çš„å±æ€§å˜åŒ–              | â¬œï¸        |                                                              |
| ReactDOM   | æµè§ˆå™¨ç¯å¢ƒ DOM çš„åˆ é™¤                  | âœ…        | [v5](https://github.com/BetaSu/big-react/tree/v5) |
| ReactDOM   | ReactTestUtils                         | âœ…        | [v4](https://github.com/BetaSu/big-react/tree/v4) |
| ReactNoop  | ReactNoop Renderer                     | âœ…        | [v10](https://github.com/BetaSu/big-react/tree/v10) |
| Reconciler | Fiber æ¶æ„                             | âœ…        | [v1](https://github.com/BetaSu/big-react/tree/v1) |
| Reconciler | äº‹ä»¶æ¨¡å‹                               | âœ…        | [v6](https://github.com/BetaSu/big-react/tree/v6) |
| Reconciler | onClick äº‹ä»¶æ”¯æŒ                       | âœ…        | [v6](https://github.com/BetaSu/big-react/tree/v6) |
| Reconciler | input å…ƒç´  onChange äº‹ä»¶æ”¯æŒ           | â¬œï¸        |                                                              |
| Reconciler | Lane æ¨¡å‹                              | âœ…        | [v8](https://github.com/BetaSu/big-react/tree/v8) |
| Reconciler | åŸºç¡€ Update æœºåˆ¶                       | âœ…        | [v1](https://github.com/BetaSu/big-react/tree/v1) |
| Reconciler | å¸¦ä¼˜å…ˆçº§çš„ Update æœºåˆ¶                 | âœ…        | [v8](https://github.com/BetaSu/big-react/tree/v8) |
| Reconciler | æ’å…¥å•èŠ‚ç‚¹çš„ mount æµç¨‹                | âœ…        | [v1](https://github.com/BetaSu/big-react/tree/v1) |
| Reconciler | æ’å…¥å¤šèŠ‚ç‚¹çš„ mount æµç¨‹                | âœ…        | [v7](https://github.com/BetaSu/big-react/tree/v7) |
| Reconciler | æ’å…¥å•èŠ‚ç‚¹çš„ reconcile æµç¨‹            | âœ…        | [v5](https://github.com/BetaSu/big-react/tree/v5) |
| Reconciler | æ’å…¥å¤šèŠ‚ç‚¹çš„ reconcile æµç¨‹            | âœ…        | [v7](https://github.com/BetaSu/big-react/tree/v7) |
| Reconciler | åˆ é™¤èŠ‚ç‚¹çš„ reconcile æµç¨‹              | âœ…        | [v5](https://github.com/BetaSu/big-react/tree/v5) |
| Reconciler | HostText ç±»å‹æ”¯æŒ                      | âœ…        | [v2](https://github.com/BetaSu/big-react/tree/v2) |
| Reconciler | HostComponent ç±»å‹æ”¯æŒ                 | âœ…        | [v1](https://github.com/BetaSu/big-react/tree/v1) |
| Reconciler | HostRoot ç±»å‹æ”¯æŒ                      | âœ…        | [v1](https://github.com/BetaSu/big-react/tree/v1) |
| Reconciler | FunctionComponent ç±»å‹æ”¯æŒ             | âœ…        | [v3](https://github.com/BetaSu/big-react/tree/v3) |
| React      | Hooks æ¶æ„ mount æ—¶å®ç°                | âœ…        | [v3](https://github.com/BetaSu/big-react/tree/v3) |
| React      | Hooks æ¶æ„ update æ—¶å®ç°               | âœ…        | [v5](https://github.com/BetaSu/big-react/tree/v5) |
| Reconciler | useState å®ç°                          | âœ…        | [v3](https://github.com/BetaSu/big-react/tree/v3) |
| Reconciler | useEffect å®ç°                         | âœ…        | [v9](https://github.com/BetaSu/big-react/tree/v9) |
| Reconciler | useRef å®ç°                            | â¬œï¸        |                                                              |
| Reconciler | Legacy è°ƒåº¦æµç¨‹ï¼ˆåŒ…å« batchedUpdatesï¼‰ | âœ…        | [v8](https://github.com/BetaSu/big-react/tree/v8) |
| Reconciler | Concurrent è°ƒåº¦æµç¨‹                    | âœ…        | [v11](https://github.com/BetaSu/big-react/tree/v11) |
| Reconciler | å¼‚å¸¸å¤„ç†æµç¨‹                           | â¬œï¸        |                                                              |
| Reconciler | useErrorBoundary å®ç°                  | â¬œï¸        |                                                              |

## è°ƒè¯•

æä¾› 3 ç§è°ƒè¯•æ–¹å¼ï¼š

1. å®æ—¶è°ƒè¯•

æ‰§è¡Œ `pnpm demo`ä¼šè¿è¡Œé¡¹ç›® `demos`ç›®å½•ä¸‹çš„ç¤ºä¾‹é¡¹ç›®ï¼ˆé»˜è®¤é¡¹ç›®æ˜¯é’ˆå¯¹[v9](https://github.com/BetaSu/big-react/tree/v9)çš„è°ƒè¯•é¡¹ç›®ï¼‰

è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯ï¼š

- æ§åˆ¶å°ä¼šæ‰“å°å„ä¸ªä¸»è¦æ­¥éª¤çš„æ‰§è¡Œä¿¡æ¯ï¼Œå¯ä»¥ç›´è§‚çœ‹åˆ°æ‰§è¡Œæµç¨‹
- çƒ­æ›´æ–°ï¼ˆåŒ…æ‹¬ç¤ºä¾‹ä»£ç å’Œæºç ä»£ç ï¼‰

1. pnpm link

é€šè¿‡ `CRA`æˆ– `Vite`èµ·ä¸€ä¸ª `React`æµ‹è¯•é¡¹ç›®åï¼Œåœ¨æœ¬é¡¹ç›®æ‰§è¡Œ `pnpm run build:dev`æ‰“åŒ… `react`ä¸ `react-dom`ï¼Œåœ¨æµ‹è¯•é¡¹ç›®ä¸­é€šè¿‡ `pnpm link`å°†é¡¹ç›®ä¾èµ–çš„ `react`ä¸ `react-dom`æ›¿æ¢ä¸ºæˆ‘ä»¬æ‰“åŒ…çš„ `react`ä¸ `react-dom`

è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯ï¼šæœ€è´´åˆé¡¹ç›®ä¸­å®é™…ä½¿ç”¨ `React`çš„æƒ…å†µ

1. è·‘ `React`å®˜æ–¹çš„æµ‹è¯•ç”¨ä¾‹

æ‰§è¡Œ `pnpm test`è·‘å®˜æ–¹çš„æµ‹è¯•ç”¨ä¾‹ï¼Œç”¨ä¾‹ä¸­å¼•ç”¨çš„æ˜¯æ‰§è¡Œ `pnpm run build:dev`æ‰“åŒ…çš„ `react`ä¸ `react-dom`

è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯ï¼šå¯ä»¥ä»å®˜æ–¹ç”¨ä¾‹çš„è§’åº¦è§‚å¯Ÿæ¡†æ¶å®ç°çš„ç»†èŠ‚ã€å„ç§è¾¹ç•Œæƒ…